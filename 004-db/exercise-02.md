# Задание 2. Работа с базой данных 

## Техническое задание
Благодаря инструкции по настройке SQLite мы можем потренироваться создавать таблицы и выполнять различные действия
с ними.

В качестве результата необходимо прислать подготовленные SQL-запросы.

В этом задании вам надо подготовить SQL-запросы, которые смогут создать несколько таблиц:
* таблицу магазина shop,
* таблицу продуктов product,
* таблицу заказа order,
* таблицу соответствий продуктов и заказов order_product,
* таблицу покупателя client.

Не забудьте про следующие важные свойства:
* название (name), адрес (address) для магазина;
* название (name),  цена (price) и количество штук (count) для продуктов;
* дата и время создания заказа (created_at), кто кому продал заказ;
* какие продукты вошли в какой заказ и с какой ценой — соответствие заказов и продуктов;
* номер телефона (phone) и имя (name) для клиентов.

Необходимо заполнить SQL-запросами таблицы данных, как минимум по пять строк в каждой таблице.
Замечание: не для каждого магазина могут существовать продукты и заказы, но каждый продукт и заказ привязаны к магазину. Используйте FOREIGN KEYS для установления связей между таблицами.

## Дополнительное задание со звёздочкой
Помимо базовых запросов, вам необходимо изучить и такое понятие, как [агрегатные функции](https://codetown.ru/sql/agregatnye-funkcii/).

### Задание:

Подготовьте SQL-запросы для следующих задач:
1. Вывести для каждого клиента сумму его покупок, сделанных в период +- 3 дня от его дня рождения.
2. Вывести заказы, в которых цена продукта отличается от нынешней в таблице, а также вывести разницу в сумме.
3. Найти самый прибыльный магазин и магазин, в котором произвели больше всего покупок.

Внимание: При сдаче задания через http://repl.it/ выбирайте, пожалуйста, шаблон SQLite. Также задание можно сдавать через свой git-репозиторий.
 
**Обратите внимание на** [**рекомендации по сдаче домашнего задания**](../homework.md). 
